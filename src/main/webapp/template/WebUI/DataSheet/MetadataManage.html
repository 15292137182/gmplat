<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../Public/publicjs.js"></script>
    <style>
        html{
            overflow: hidden;
        }
        .bg-color {
            background: #f5f5f5;
            vertical-align: middle;
            height: 30px;
            font-size:18px;
            line-height:30px;
        }
        .el-table th{
            text-align: center;
            background-color: white;
        }
        .el-table th div{
            background-color: white;
        }
        h2{
            margin:2px 0;
            float: left;
        }
        .el-row--flex.is-justify-end {
            text-align: right;
        }
    </style>

</head>
<body>
<div id="app">
    <!--搜索框 搜索按钮 所有事件按钮-->
    <el-row  type="flex" justify="end" style="padding:5px 0 10px 0">
        <el-col :span="24">
            <el-button type="success" icon="plus" size="small" @click.native="addEvent">新增业务对象</el-button>
            <el-button type="info" icon="edit" size="small">编辑业务对象</el-button>
            <el-button type="danger" icon="delete" size="small">删除业务对象</el-button>
            <el-button type="success" icon="plus" size="small">新增对象属性</el-button>
            <el-button type="info" icon="delete" size="small">编辑对象属性</el-button>
            <el-button type="info" icon="plus" size="small">生效</el-button>
            <el-button type="info" icon="delete" size="small">变更</el-button>
        </el-col>
    </el-row>
    <el-row :gutter="20">
        <el-col :span="8" >
            <div style="border:1px solid #d1ddf9;border-radius: 5px;">
            <el-row >
                <el-col>
                    <div class="bg-color"><span style="margin-left:20px">业务对象信息</span></div>
                </el-col>
            </el-row>
            <el-row style="padding:15px 10px 10px 10px">
                <el-col :xs="24" :sm="24" :md="24">
                    <div>
                        <el-input placeholder="请输入内容" v-model="input">
                            <el-button slot="append" icon="search" @click.native="searchTable"></el-button>
                        </el-input>
                    </div>
                </el-col>
            </el-row>
            <el-row id="leftTable" style="padding:0 10px 10px 10px">
                <el-col :span="24">
                    <template>
                        <el-table :data="myLeftData" :height="leftHeight"  border style="width: 100%;border-radius: 5px">
                            <el-table-column  prop="objectCode" label="对象代码" width="">
                            </el-table-column>
                            <el-table-column  prop="objectName" label="对象名称" width="">
                            </el-table-column>
                            <el-table-column  prop="relateTableRowId" label="关联表" width="">
                            </el-table-column>
                            <el-table-column  prop="version" label="版本" width="">
                            </el-table-column>
                        </el-table>
                    </template>
                </el-col>
            </el-row>
            </div>
        </el-col>
        <el-col :span="16">
            <div style="border:1px solid #d1ddf9;border-radius: 5px;">
                <el-row>
                    <el-col>
                        <div class="bg-color"><span style="margin-left:20px">对象的属性</span></div>
                    </el-col>
                </el-row>
                <el-row id="rightTable" style="padding:15px 10px 10px 10px">
                    <el-col :span="24">
                        <template>
                            <el-table :data="myRightData" :height="rightHeight" border style="width: 100%;border-radius: 5px">
                                <el-table-column  prop="" label="表Schema" width="">
                                </el-table-column>
                                <el-table-column  prop="" label="表中英文名称" width="">
                                </el-table-column>
                                <el-table-column  prop="" label="说明" width="">
                                </el-table-column>
                            </el-table>
                        </template>
                    </el-col>
                </el-row>
            </div>
        </el-col>
    </el-row>
</div>
</body>
<script>
    var vm=new Vue({
        el:"#app",
        data:{
            input:'',
            leftHeight:'',
            rightHeight:'',
            myLeftData:[],
            myRightData:[]
        },
        methods:{
            searchTable(){
                this.$http.jsonp(serverPath+"/busin/select",{
                    str:this.input
                },{
                    jsonp:'callback'
                }).then(function(res){
                    console.log(res.data.content.data);
                    for(var i=0;i<res.data.content.data.length;i++){
                        var obj = {};
                        obj.data=res.data.content.data[i];
                        console.log(obj)
                        this.myLeftData.push(obj.data);
                    }
                },function(){

                });
            },
            addEvent(){
                var htmlUrl = 'MetadataAdd.html';
                divIndex = ibcpLayer.ShowDiv(htmlUrl, '新增业务对象', '400px', '340px', function(){

                });
            },

        }
    })
    $(document).ready(function(){
        vm.leftHeight=$(window).height()-165;
        vm.rightHeight=$(window).height()-120;
    });
    $(window).resize(function(){
        vm.leftHeight=$(window).height()-165;
        vm.rightHeight=$(window).height()-120;
    })
</script>
</html>