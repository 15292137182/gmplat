<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>下拉框 多组件之间解耦</title>
</head>
<body>
    <div id="app">
        <el-row>
            <el-col :span="6" :offset="9" style="margin-top: 20px;">
                <single-selection @change-data="getChildData_1" :initial-value="value_1">
                    <!---->
                </single-selection>
            </el-col>
            <el-col :span="6" :offset="9" style="margin-top: 20px;">
                <single-selection @change-data="getChildData_2" :is-disabled="disabledBool" :initial-value="value_2">
                    <!---->
                </single-selection>
            </el-col>
            <el-col :span="6" :offset="9" style="margin-top: 20px;">
                <multiple-selection @change-datas="multipleDatas_1" :is-disabled="disabledBool" :initial-value="value_3">
                    <!---->
                </multiple-selection>
            </el-col>
            <el-col :span="6" :offset="9" style="margin-top: 20px;">
                <multiple-selection @change-datas="multipleDatas_2" :initial-value="value_4">
                    <!---->
                </multiple-selection>
            </el-col>
            <el-col :span="6" :offset="9" style="margin-top: 20px;">
                <el-button type="success" @click="validate">check</el-button>
            </el-col>
        </el-row>
    </div>

    <script type="text/javascript" src="../Public/publicjs.js"></script>
    <script type="text/javascript" src="../Public/ibcpComponents.js"></script>
    <script>
        var vm = new Vue({
            el: "#app",
            data() {
                return {
                    // 设置下拉框禁用
                    disabledBool: true,
                    // 设置下拉框初始值
                    value_1: "选项1",
                    value_2: "选项2",
                    value_3: ["Beijing", "Shanghai"],
                    value_4: ["Hangzhou", "Guangzhou"]
                }
            },
            mounted() {
                //
            },
            methods: {
                validate() {
//                    console.log(this.value_1);
//                    console.log(this.value_2);
                    if(this.value_1 == "" || this.value_2 == "" || this.value_3 == "" || this.value_4 == "") {
                        this.$message({
                            message: "请选择类型",
                            showClose: true,
                            type: "warning"
                        });
                        return
                    }else {
                        this.$message({
                            message: "提交成功",
                            showClose: true,
                            type: "success"
                        });
                    }
                },
                // 父组件接收来自子组件的数据  必须！
                getChildData_1(data) {
                    this.value_1 = data;
                },
                getChildData_2(data) {
                    this.value_2 = data;
                },
                multipleDatas_1(datas) {
                    this.value_3 = datas;
                },
                multipleDatas_2(datas) {
                    this.value_4 = datas;
                }
            }
        })
    </script>
</body>
</html>