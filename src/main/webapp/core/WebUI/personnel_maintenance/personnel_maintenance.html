<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../Public/publicjs.js"></script>
    <style>
        /*tab页的行高*/
        .el-tabs__item{
            line-height:24px;
            height:24px;
        }
        /*查询区域左侧的长度*/
        .el-select .el-input {
            width: 130px;
        }
        /*弹出框的input长度*/
        form  .el-input input{
            width:165px;
        }
        /*弹出框的选择框的长度*/
        form  .el-select .el-input {
            width: 165px;
        }
        form .el-textarea textarea{
            width: 420px;
        }
        /*日期控件长度也为1650*/
        .el-date-editor.el-input.el-date-editor--date{
            width: 165px;
        }
        .spanPosition{
            position: absolute;
            top:-12px;
            left:20px;
            background: white;
            font-weight:bold;
            font-size: 15px;
        }
        .extra{
            background-color: #fbfdff;
            color: #97a8be;
            vertical-align: middle;
            display: inline-block;
            border: 1px solid #bfcbd9;
            border-radius: 4px;
            padding: 0 10px;
            width: 40px;
            white-space: nowrap;
            line-height: 35px;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }
        .extra1 input{
            border-top-left-radius: 0 ;
            border-bottom-left-radius: 0;
            /*border-top-right-radius: 0 ;*/
            /*border-bottom-right-radius: 0;*/
        }




    </style>
</head>
<body>
<div id="basTop">
    <el-row type="flex" justify="end">
        <el-col :span="24">
            <el-button type="info" icon="plus" size="small" @click.native="addEvent">添加</el-button>
            <el-button type="info" icon="plus" size="small" @click.native="deleteAll">批量删除</el-button>
            <el-button type="warning" icon="star-off" size="small" @click.native="resetPass">重置密码</el-button>
            <el-button type="warning" icon="caret-right" size="small" @click.native="Invalid">失效</el-button>
            <el-button type="warning" icon="caret-right" size="small" @click.native="Enable">启用</el-button>
            <el-button type="warning"  size="small" @click.native="chooseVersion">下载模板</el-button>
            <el-button type="warning" icon="caret-right" size="small" @click.native="leadRow">导入</el-button>
            <el-button type="warning" icon="caret-right" size="small" @click.native="exportRow">导出</el-button>
        </el-col>
    </el-row>
</div>

<div class="allBorder" style="float: left; padding:20px 10px 0 10px;">
    <el-col :span="5" id="left" style="margin-left:15px">
        <el-row>
            <el-col>
                <div style="padding:20px 20px">
                    <el-tabs v-model="activeName" @tab-click="handleClick" type="card">
                        <el-tab-pane label="组织机构查看" name="first">
                            <div style="padding:5px 20px">
                                <base-tree :initial="config" @click-node="getNodes" @checked-node="getChecked"></base-tree>
                            </div>
                        </el-tab-pane>
                        <el-tab-pane label=" 角色查看" name="second">
                            <el-row id="basRightTop"></el-row>
                        </el-tab-pane>
                    </el-tabs>
                </div>
            </el-col>
        </el-row>
    </el-col>

    <el-col :span="18" id="right" style="margin-left:15px">
        <div class="allBorder" style="border:1px solid #bccdc5;padding:2px 0 ">
            <el-row>
                <el-col>
                    <div>
                        <span class="spanPosition">人员信息维护页面</span>
                    </div>
                    <el-col :span="15">
                        <div style="padding:20px 0 20px 20px" >
                            <el-input placeholder="请输入内容" v-model="input">
                                <el-select v-model="select" slot="prepend" placeholder="请选择查询类型" clearable>
                                    <el-option label="工号" value="id"></el-option>
                                    <el-option label="姓名" value="name"></el-option>
                                    <el-option label="昵称" value="nickname"></el-option>
                                    <el-option label="职务" value="job"></el-option>
                                </el-select>
                                <el-button slot="append" icon="search" style="border-top-right-radius: 0;border-bottom-right-radius: 0;" @click.native="searchUser"></el-button>
                            </el-input>
                        </div>
                    </el-col>
                    <el-col :span="2" style="padding:20px 20px 20px 5px">
                        <el-button @click.native="showMore" icon="arrow-right"></el-button>
                    </el-col>
                    <el-col :span="7">
                        <div style="padding:20px 0" v-show="couldLook">
                            <div class="extra" style="font-size:14px;">状态</div>
                            <el-select v-model="chooseState" slot="prepend" placeholder="请选择状态" clearable style="margin-left:-6px" class="extra1">
                                <el-option label="锁定" value="01"></el-option>
                                <el-option label="解锁" value="02"></el-option>
                                <el-option label="启用" value="03"></el-option>
                                <el-option label="失效" value="04"></el-option>
                            </el-select>
                        </div>
                    </el-col>
                    <el-col :span="24">
                        <div style="padding:4px 20px">
                            <el-table :data="tableData" :height="leftHeight" border ref="tableData" highlight-current-row
                                      v-loading="loading"
                                      element-loading-text="加载中" @sort-change="headSort"
                                      @row-click="currentChange"
                                      class="tableStyle"
                                      @select="selectRow"
                                      @select-all="selectAllRow"
                                      style="width: 100%">
                                <el-table-column
                                        type="selection"
                                        width="45">
                                </el-table-column>
                                <el-table-column type="expand">
                                    <template scope="props">
                                        <el-form label-position="left" inline class="demo-table-expand">
                                            <el-row>
                                                <el-col :span="12">
                                                    <el-form-item label="用户姓名">
                                                        <span>{{ props.row.name }}</span>
                                                    </el-form-item>
                                                </el-col>
                                                <el-col :span="12">
                                                    <el-form-item label="用户昵称">
                                                        <span>{{ props.row.nickname }}</span>
                                                    </el-form-item>
                                                </el-col>
                                            </el-row>
                                            <el-row>
                                                <el-col :span="12">
                                                    <el-form-item label="身份证">
                                                        <span>{{ props.row.idCard }}</span>
                                                    </el-form-item>
                                                </el-col>
                                                <el-col :span="12">
                                                    <el-form-item label="移动电话">
                                                        <span>{{ props.row.mobilePhone }}</span>
                                                    </el-form-item>
                                                </el-col>
                                            </el-row>
                                            <el-row>
                                                <el-col :span="12">
                                                    <el-form-item label="办公电话">
                                                        <span>{{ props.row.officePhone }}</span>
                                                    </el-form-item>
                                                </el-col>
                                                <el-col :span="12">
                                                    <el-form-item label="邮箱">
                                                        <span>{{ props.row.email }}</span>
                                                    </el-form-item>
                                                </el-col>
                                            </el-row>
                                            <el-row>
                                                <el-col :span="12">
                                                    <el-form-item label="入职日期">
                                                        <span>{{ props.row.hiredate }}</span>
                                                    </el-form-item>
                                                </el-col>
                                                <el-col :span="12">
                                                    <el-form-item label="说明">
                                                        <span>{{ props.row.description }}</span>
                                                    </el-form-item>
                                                </el-col>
                                            </el-row>
                                            <el-row>
                                                <el-col :span="12">
                                                    <el-form-item label="备注">
                                                        <span>{{ props.row.remarks }}</span>
                                                    </el-form-item>
                                                </el-col>
                                            </el-row>
                                        </el-form>
                                    </template>
                                </el-table-column>
                                <el-table-column prop="id" label="用户工号" sortable="custom" width="160"
                                                 show-overflow-tooltip></el-table-column>
                                <el-table-column prop="password" label="密码" width="160"
                                                 show-overflow-tooltip></el-table-column>
                                <el-table-column prop="orgName" label="所属部门" width="100"
                                                 show-overflow-tooltip></el-table-column>
                                <el-table-column prop="status" label="状态" show-overflow-tooltip></el-table-column>
                                <el-table-column prop="gender" label="性别" show-overflow-tooltip></el-table-column>
                                <el-table-column prop="job" label="职务" show-overflow-tooltip></el-table-column>
                                <el-table-column prop="" label="操作" width="160">
                                    <template scope="scope">
                                        <el-button @click.native="editEvent" type="text" size="small" icon="edit"
                                                   :disabled=scope.row.testDemo></el-button>
                                        <el-button @click.native="deleteEvent" type="text" size="small" icon="delete"
                                                   :disabled=scope.row.testDemo></el-button>
                                        <el-button @click.native="unlockEvent" type="text" size="small" icon="check"
                                                   :disabled=scope.row.testDemo></el-button>
                                        <el-button @click.native="lockEvent" type="text" size="small" icon="information"
                                                   :disabled=scope.row.testDemo></el-button>
                                    </template>
                                </el-table-column>
                            </el-table>
                            <el-row type="flex" justify="end" style="padding-top: 10px">
                                <el-pagination
                                        @size-change="handleSizeChange"
                                        @current-change="handleCurrentChange"
                                        :current-page.sync="pageNum"
                                        :page-sizes="[5,10,20]"
                                        :page-size="pageSize"
                                        layout="total, sizes, prev, pager, next"
                                        :total="allDate">
                                </el-pagination>
                            </el-row>
                        </div>
                    </el-col>

                </el-col>
            </el-row>
            </el-row>
        </div>
    </el-col>
</div>

<template id="tempBlock">
    <el-col id="basRightTop">
        <div style="padding:20px 20px">
            <base-tree :initial="config1" @click-node="getNodes1" @checked-node="getChecked1"></base-tree>
        </div>
    </el-col>
</template>

<script src="personnel_maintenance.js"></script>
</body>
</html>