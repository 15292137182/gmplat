<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>组件示例</title>
    <style>
        #component {
            padding-top: 20px;
        }

        .com_block {
            margin-bottom: 20px;
        }

        .label {
            text-align: right;
            padding-right: 14px;
            color: #48576a;
            line-height: 36px;
            font-size: 14px;
        }

        [v-cloak] {
            display: none;
        }
    </style>
</head>
<body>
    <el-row id="component" v-cloak>
        <!-- 树形下拉框 -->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">树形下拉框</el-col>
            <el-col :span="10">
                <select-tree :initial="config" @select-node="getNodes" @click-node="getNodes" @checked-node="getChecked"></select-tree>
            </el-col>
        </el-col>
        <!--一级树结构-->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">一级树结构</el-col>
            <el-col :span="10">
                <base-tree :initial="treeData" @click-node="getNodes" @checked-node="getChecked"></base-tree>
            </el-col>
        </el-col>
        <!--层级树结构-->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">层级树结构</el-col>
            <el-col :span="10">
                <base-tree :initial="config" @click-node="getNodes" @checked-node="getChecked"></base-tree>
            </el-col>
        </el-col>
    </el-row>

    <script type="text/javascript" src="../Public/publicjs.js"></script>
    <script>
        var component = new Vue({
            el: "#component",
            data() {
                return {
                    // 一级树结构配置
                    treeData: {
                        // 显示复选框
                        checkbox: true,
                        // 默认选中项 当 checkbox 为 true 时  编辑时可以用
                        checked: [3],
                        // 配置显示项 必须配置！
                        defaultProps: {
                            // 树节点显示文字
                            label: 'groupNumber',
                            // 节点id
                            key: "rowId"
                        },
                        // 获取树节点接口
                        url: serverPath + "/userGroup/queryPage",
                    },
                    // 层级树结构配置
                    config: {
                        // 设置清空按钮
                        clearable: false,
                        // 显示复选框
                        checkbox: true,
                        // 默认展开
//                        expanded: [324],
                        // 展开所有节点
                        expandedAll: true,
                        // 默认选中项 当 checkbox 为 true 时  编辑时可以用
//                        checked: [12, 21],
                        // 配置显示项 必须配置！
                        defaultProps: {
                            // 树节点显示文字
                            label: 'orgName',
                            // 节点id
                            key: "orgId",
                            // 父节点信息
                            parent: "orgPid"
                        },
                        // 获取数据接口
                        url: serverPath + "/baseOrg/queryPage"
                    }
                }
            },
            methods: {
                getNodes(data, id, name) {
                    console.log(data);
                    console.log("选中行id为：" + id);
                    console.log("选中行名称为：" + name);
                },
                getChecked(data, id, name, flag) {
                    console.log(data);
                    console.log("选中节点名称为：" + name);
                    console.log("选中节点 id 为：" + id);
                    console.log("选中标识为：" + flag);
                }
            }
        })
    </script>
</body>
</html>