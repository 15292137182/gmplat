<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>组件示例</title>
    <style>
        #component {
            padding-top: 20px;
        }

        .com_block {
            margin-bottom: 20px;
        }

        .label {
            text-align: right;
            padding-right: 14px;
            color: #48576a;
            line-height: 36px;
            font-size: 14px;
        }

        [v-cloak] {
            display: none;
        }
    </style>
</head>
<body>
    <el-row id="component" v-cloak>

        <!-- 基本下拉框 -->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">基本下拉框</el-col>
            <el-col :span="10">
                <single-selection :initial="singleSelect" @hide="hide"></single-selection>
            </el-col>
        </el-col>

        <!-- 树形下拉框 -->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">树形下拉框</el-col>
            <el-col :span="10">
                <select-tree :initial="config" @select-node="getNodeId" @click-node="getNodes" @checked-node="getChecked" @clear="clear"></select-tree>
            </el-col>
        </el-col>

        <!--一级树结构-->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">一级树结构</el-col>
            <el-col :span="10">
                <base-tree :initial="treeData" @click-node="getNodes" @checked-node="getChecked"></base-tree>
            </el-col>
        </el-col>

        <!--层级树结构-->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">层级树结构</el-col>
            <el-col :span="10">
                <base-tree :initial="config" @click-node="getNodes" @checked-node="getChecked"></base-tree>
            </el-col>
        </el-col>

        <!-- 日期时间 -->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">日期时间</el-col>
            <el-col :span="10">
                <date-time-picker :initial="dateConfig"></date-time-picker>
            </el-col>
        </el-col>

        <!-- 时间范围 -->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">时间范围</el-col>
            <el-col :span="10">
                <date-time-picker :initial="timeConfig"></date-time-picker>
            </el-col>
        </el-col>

        <!-- 其他日期单位 -->
        <el-col :span="24" class="com_block">
            <el-col :span="4" class="label">其他日期单位</el-col>
            <el-col :span="10">
                <date-time-picker :initial="otherConfig"></date-time-picker>
            </el-col>
        </el-col>
    </el-row>

    <script type="text/javascript" src="../Public/publicjs.js"></script>
    <script>
        var component = new Vue({
            el: "#component",
            data() {
                return {
                    // 下拉框配置
                    singleSelect: {
                        params: "functionBlockAlign",
                        value: "",
                        multiple: "true"
                    },

                    // 一级树结构配置
                    treeData: {
                        // 显示复选框
                        checkbox: true,
                        // 默认选中项 当 checkbox 为 true 时  编辑时可以用
//                        checked: [3],
                        // 配置显示项 必须配置！
                        defaultProps: {
                            // 树节点显示文字
                            label: 'confValue',
                            // 节点id
                            key: "rowId"
                        },
                        // 获取树节点接口
                        url: serverPath + "/keySet/queryKeySet",
                        // 传参
                        params: "privilegeType"
                    },

                    // 层级树结构配置
                    config: {
                        // 设置清空按钮
                        clearable: false,
                        // 显示复选框
                        checkbox: false,
                        // 默认展开
//                        expanded: [324],
                        // 展开所有节点
                        expandedAll: true,
                        // 默认选中项 当 checkbox 为 true 时  编辑时可以用
                        checked: [12, 21],
                        // 配置显示项 必须配置！
                        defaultProps: {
                            // 树节点显示文字
                            label: 'orgName',
                            // 节点id
                            key: "orgId",
                            // 父节点信息
                            parent: "orgPid"
                        },
                        // 获取数据接口
                        url: serverPath + "/baseOrg/queryPage"
                    },

                    // 日期时间配置
                    dateConfig: {
                        // 控件类型
                        type: "daterange",
                        // 占位符文字
                        placeholder: "请选择日期时间范围",
                        // 日期格式化
                        formatter: "yyyy/MM/dd"
                    },

                    // 日期时间配置
                    timeConfig: {
                        // 控件类型
                        type: "datetimerange",
                        // 占位符文字
                        placeholder: "请选择时间范围",
                        // 日期格式化
                        formatter: "yyyy/MM/dd hh:mm:ss"
                    },

                    // 日期时间配置
                    otherConfig: {
                        // 控件类型
                        type: "week",
                        // 占位符文字
                        placeholder: "请选择周",
                        // 日期格式化
                        formatter: "yyyy 年 第 WW 周"
                    }
                }
            },
            methods: {
                hide(data) {
                    console.log(data);
                },
                getNodes(data, id, name) {
                    console.log(data);
                    console.log("选中行id为：" + id);
                    console.log("选中行名称为：" + name);
                },
                getNodeId(id) {
                    console.log("当前选中节点 id为：" + id);
                },
                getChecked(data, id, allChecked, name, flag) {
                    // 依次接收 当前选择节点数据 当前节点id 当前树上选中节点数组 当前选中节点名称 当前节点是否选中标识
                    console.log(data);
                    console.log("选中节点名称为：" + name);
                    console.log("选中节点 id 为：" + id);
                    console.log("当前树选中节点集合为：" + allChecked);
                    console.log("选中标识为：" + flag);
                },
                clear(id, name) {
                    console.log(id);
                    console.log(name);
                }
            }
        })
    </script>
</body>
</html>