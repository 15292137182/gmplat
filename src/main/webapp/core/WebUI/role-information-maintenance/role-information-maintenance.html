<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>角色信息维护</title>
    <script src="../Public/publicjs.js"></script>
    <style>
        html{
            overflow: hidden;
        }
        .el-input {
            width: 300px;
        }
        .el-icon-delete{
            color: white;
        }
        #topInput .el-input__inner{
            width:200px;
            height:30px;
        }
        #topInput .el-textarea__inner{
            width:300px;
        }
        .spanPosition{
            position: absolute;
            top:-12px;
            left:20px;
            background: white;
            font-weight:bold;
            font-size: 15px;
        }
        #rightBottom .el-button{
            position: absolute;
            left: 110px;
            top: -15px;
            border: none;
            background: white;
        }
        #rightBottom .el-icon-check{
            color: red;
        }
    </style>
</head>
<body>
<div id="basTop">
    <el-row type="flex" justify="end">
        <el-col :span="24">
            <el-button type="info" icon="plus" size="small" @click.native="addEvent" v-bind:disabled="addOpe">添加角色信息</el-button>
            <el-button type="danger" icon="delete" size="small" @click.native="orgDelete" v-bind:disabled="disabled">删除角色信息</el-button>
            <el-button size="small" icon="check" type="primary" @click="addClick">保存</el-button>
        </el-col>
    </el-row>
</div>
<div class="allBorder">
    <el-col :span="4" id="left" style="margin-left:15px;">
        <div class="allBorder" id="allBorderHeight" style="height:500px; border:none">
            <el-row>
                <el-col>
                    <div style="padding:0 20px">
                        <el-col style="padding:10px 5px">
                            <base-tree :initial="treeData" ref="org" @click-node="getNodes" @checked-node="getChecked"></base-tree>
                        </el-col>
                    </div>
                </el-col>
            </el-row>
        </div>
    </el-col>

    <el-col :span="19" id="right" style="margin-left:15px; margin-top: 20px;">
        <div class="allBorder" style="border:1px solid #d1ddf9">
            <el-row>
                <el-col>
                    <div>
                        <span class="spanPosition">详细信息</span>
                    </div>
                    <el-col :span="24">
                        <div id="topInput" style="padding:20px 20px 10px 10px">
                            <el-form :label-position="labelPosition" ref="formTable" label-width="70px" :model="formTable">
                                <el-row type="flex" class="row-bg">
                                    <el-col :span="6">
                                        <el-form-item label="角色编号" prop="roleId">
                                            <el-input placeholder="角色编号" v-model="formTable.roleId" ref="roleId"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="角色名称" prop="roleName">
                                            <el-input placeholder="角色名称" v-model="formTable.roleName" ref="roleName"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="类别" prop="roleType">
                                            <el-input placeholder="类别" v-model="formTable.roleType" ref="roleType"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                                <el-row type="flex" class="row-bg">
                                    <el-col :span="6">
                                        <el-form-item label="说明" prop="desc">
                                            <el-input type="textarea" placeholder="说明" v-model="formTable.desc" ref="desc"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="6">
                                        <el-form-item label="备注" prop="remarks">
                                            <el-input type="textarea" placeholder="备注" v-model="formTable.remarks" ref="remarks"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                                <!--<el-row>-->
                                <!--<el-col :span="2" :offset="21" style="margin-top: -10px; margin-bottom: -30px;">-->
                                <!--<el-form-item label="" prop="">-->
                                <!--<el-button size="small" icon="check" type="primary" @click="addClick">保存</el-button>-->
                                <!--</el-form-item>-->
                                <!--</el-col>-->
                                <!--</el-row>-->
                            </el-form>
                        </div>
                    </el-col>
                </el-col>
            </el-row>
            </el-row>
        </div>
    </el-col>

    <el-col :span="19" id="rightBottom" style="margin-left:15px;margin-top:40px;">
        <div class="allBorder" style="border:1px solid #d1ddf9">
            <el-row>
                <el-col>
                    <div>
                        <span class="spanPosition">关联其他信息</span>
                        <el-button size="small" icon="check" type="primary" :disabled="disabled" @click="btnRefresh"></el-button>
                    </div>
                    <div style="padding:30px 20px">
                        <el-tabs v-model="activeName" @tab-click="handleClick" type="card">
                            <el-tab-pane label="权限信息" name="first">
                                <template>
                                    <el-table ref="myData"
                                              :data="tableData"
                                              @row-click="firstClick" border style="width: 100%"
                                              :highlight-current-row="true"
                                              :height="leftHeight"
                                              v-loading="loading"
                                              element-loading-text="加载中">
                                        <el-table-column show-overflow-tooltip sortable="custom" prop="permissionId" label="权限编号" width="">
                                        </el-table-column>
                                        <el-table-column show-overflow-tooltip sortable="custom" prop="permissionName" label="权限名称" width="250">
                                        </el-table-column>
                                        <el-table-column show-overflow-tooltip sortable="custom" prop="permissionType" label="权限类型" width="">
                                        </el-table-column>
                                        <el-table-column show-overflow-tooltip sortable="custom" prop="desc" label="描述" width="250">
                                        </el-table-column>
                                        <el-table-column show-overflow-tooltip sortable="custom" prop="remarks" label="备注" width="250">
                                        </el-table-column>
                                    </el-table>
                                </template>
                                <el-row type="flex" justify="end" style="padding-top:10px" class="block">
                                    <el-pagination
                                            @size-change="handleSizeChange"
                                            @current-change="handleCurrentChange"
                                            :current-page="pageNum"
                                            :page-sizes="[5,10,20]"
                                            :page-size="pageSize"
                                            layout="total, sizes, prev, pager, next, jumper"
                                            :total="allDate">
                                    </el-pagination>
                                </el-row>
                            </el-tab-pane>
                            <el-tab-pane label=" 人员信息" name="second">
                                <el-row id="basRightTop"></el-row>
                            </el-tab-pane>
                            <el-tab-pane label=" 机构信息" name="Three">
                                <el-row id="basRight"></el-row>
                            </el-tab-pane>
                        </el-tabs>
                    </div>
                </el-col>
            </el-row>
        </div>
    </el-col>
</div>

<template id="tempBlock">
    <el-col  id="basRightTop">
        <el-table ref="myData"
                  :data="tableData"
                  @row-click="twoClick" border style="width: 100%"
                  :highlight-current-row="true"
                  :height="leftHeight"
                  v-loading="loading"
                  element-loading-text="加载中">
            <el-table-column show-overflow-tooltip sortable="custom" prop="id" label="工号" width="250">
            </el-table-column>
            <el-table-column show-overflow-tooltip sortable="custom" prop="name" label="姓名" width="250">
            </el-table-column>
            <el-table-column show-overflow-tooltip sortable="custom" prop="nickname" label="昵称" width="">
            </el-table-column>
            <el-table-column show-overflow-tooltip sortable="custom" prop="orgName" label="部门" width="">
            </el-table-column>
        </el-table>
        <el-row type="flex" justify="end" style="padding-top:10px" class="block">
            <el-pagination
                    @size-change="handleSizeChange"
                    @current-change="handleCurrentChange"
                    :current-page="pageNum"
                    :page-sizes="[5,10,20]"
                    :page-size="pageSize"
                    layout="total, sizes, prev, pager, next, jumper"
                    :total="allDate">
            </el-pagination>
        </el-row>
    </el-col>
</template>

<template id="tempBlockThree">
    <el-col  id="basRight">
        <el-table ref="myData"
                  :data="tableData"
                  @row-click="twoClick" border style="width: 100%"
                  :highlight-current-row="true"
                  :height="leftHeight"
                  v-loading="loading"
                  element-loading-text="加载中">
            <el-table-column show-overflow-tooltip sortable="custom" prop="orgId" label="机构编号" width="250">
            </el-table-column>
            <el-table-column show-overflow-tooltip sortable="custom" prop="orgName" label="机构名称" width="250">
            </el-table-column>
            <el-table-column show-overflow-tooltip sortable="custom" prop="fixedPhone" label="固定电话" width="">
            </el-table-column>
            <el-table-column show-overflow-tooltip sortable="custom" prop="address" label="机构地址" width="">
            </el-table-column>
        </el-table>
        <el-row type="flex" justify="end" style="padding-top:10px" class="block">
            <el-pagination
                    @size-change="handleSizeChange"
                    @current-change="handleCurrentChange"
                    :current-page="pageNum"
                    :page-sizes="[5,10,20]"
                    :page-size="pageSize"
                    layout="total, sizes, prev, pager, next, jumper"
                    :total="allDate">
            </el-pagination>
        </el-row>
    </el-col>
</template>

<script src="role-information-maintenance.js"></script>
</body>
</html>