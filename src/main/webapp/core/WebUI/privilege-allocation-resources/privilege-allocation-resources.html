<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>权限分配资源</title>
    <script src="../Public/publicjs.js"></script>
    <style>
        html{
            overflow: hidden;
        }
        #basTop .el-icon-delete{
            color: white;
        }
        .el-select{
            width: 100px;
        }
    </style>
</head>
<body>
<div style="float: left;border: 1px solid #d1ddf9; width: 100%;margin-top: 10px;">
    <el-col :span="2" id="left">
        <div class="allBorder" id="allBorderHeight" style="height:500px; border:none;margin-left: -20px;">
            <el-row>
                <el-col>
                    <div style="padding: 10px 0 10px 20px;">
                        <el-col style="padding:10px 0">
                            <base-tree :initial="treeData" ref="org" @click-node="getNodes" @checked-node="getChecked"></base-tree>
                        </el-col>
                    </div>
                </el-col>
            </el-row>
        </div>
    </el-col>

    <el-col :span="14" id="rightBottom" style="margin-top:20px;">
        <div class="allBorder" style="border: none">
            <el-row>
                <el-col>
                    <div style="">
                        <div>
                            <el-row>
                                <el-col :span="24">
                                    <el-row style="margin-bottom: 10px">
                                        <el-col :span="12">
                                            <div>
                                                <el-input placeholder="请输入内容" v-model="searchInput">
                                                    <el-select clearable slot="prepend" placeholder="请选择" v-model="select">
                                                        <el-option label="编号" value="permissionId"></el-option>
                                                        <el-option label="名称" value="permissionName"></el-option>
                                                    </el-select>
                                                    <el-button slot="append" icon="search" @click="searchClick"></el-button>
                                                </el-input>
                                            </div>
                                        </el-col>
                                    </el-row>
                                </el-col>
                            </el-row>
                            <el-row>
                                <el-table ref="myData"
                                          :data="tableData"
                                          @row-click="firstClick" border style="width: 100%"
                                          :highlight-current-row="true"
                                          :height="leftHeight"
                                          v-loading="loading"
                                          element-loading-text="加载中">
                                    <el-table-column type="expand">
                                        <template scope="props">
                                            <el-form label-position="left" inline class="block-table-expand">
                                                <el-row>
                                                    <el-col :span="24">
                                                        <el-form-item label="描述">
                                                            <span>{{ props.row.desc }}</span>
                                                        </el-form-item>
                                                    </el-col>
                                                    <el-col :span="24">
                                                        <el-form-item label="备注">
                                                            <span>{{ props.row.remarks }}</span>
                                                        </el-form-item>
                                                    </el-col>
                                                </el-row>
                                            </el-form>
                                        </template>
                                    </el-table-column>
                                    <el-table-column show-overflow-tooltip sortable="custom" prop="permissionId" label="权限编号" width="">
                                    </el-table-column>
                                    <el-table-column show-overflow-tooltip sortable="custom" prop="permissionName" label="权限名称" width="">
                                    </el-table-column>
                                    <el-table-column show-overflow-tooltip sortable="custom" prop="permissionType" label="权限类型" width="140">
                                    </el-table-column>
                                    <el-table-column  label="操作" width="80">
                                        <template scope="scope">
                                            <el-button @click="distribution(scope.row)" title="分配资源" type="text" size="small" icon="setting"></el-button>
                                        </template>
                                    </el-table-column>
                                </el-table>
                            </el-row>
                        </div>
                        <el-row type="flex" justify="end" style="padding-top:10px" class="block">
                            <el-pagination
                                    @size-change="handleSizeChange"
                                    @current-change="handleCurrentChange"
                                    :current-page="pageNum"
                                    :page-sizes="[5,10,20]"
                                    :page-size="pageSize"
                                    layout="total, sizes, prev, pager, next, jumper"
                                    :total="allDate">
                            </el-pagination>
                        </el-row>
                    </div>
                </el-col>
            </el-row>
        </div>
    </el-col>

    <el-col :span="8" id="right" style="margin-top:20px;padding-left: 20px;">
        <!--接口资源表-->
        <div v-if="left.keyName == 'interfaceResources'">
            <el-row>
                <el-col :span="24">
                    <el-row style="margin-bottom: 10px">
                        <el-col :span="20">
                            <div>
                                <el-input placeholder="请输入内容" v-model="searchInput">
                                    <el-select clearable slot="prepend" placeholder="请选择" v-model="select">
                                        <el-option label="编号" value="operatNumber"></el-option>
                                        <el-option label="名称" value="operatName"></el-option>
                                    </el-select>
                                    <el-button slot="append" icon="search" @click="searchClick"></el-button>
                                </el-input>
                            </div>
                        </el-col>
                    </el-row>
                </el-col>
            </el-row>
            <el-row>
                <el-table ref="myData"
                          :data="tableData"
                          @row-click="firstClick" border style="width: 100%"
                          :highlight-current-row="true"
                          :height="leftHeight"
                          v-loading="loading"
                          element-loading-text="加载中">
                    <el-table-column show-overflow-tooltip sortable="custom" prop="operatNumber" label="接口编号" width="">
                    </el-table-column>
                    <el-table-column show-overflow-tooltip sortable="custom" prop="operatName" label="接口名称" width="120">
                    </el-table-column>
                    <el-table-column show-overflow-tooltip prop="desc" label="备注" width="">
                    </el-table-column>
                    <el-table-column  label="操作" width="80">
                        <template scope="scope">
                            <el-button @click="searchDetails(scope.row)" title="查看详情" type="text" size="small" icon="search"></el-button>
                            <el-button @click="del(scope.row)" type="text" size="small" icon="delete"></el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </el-row>
            <el-row type="flex" justify="end" style="padding-top:10px" class="block">
                <el-pagination
                        @size-change="handleSizeChange"
                        @current-change="handleCurrentChange"
                        :current-page="pageNum"
                        :page-sizes="[5,10,20]"
                        :page-size="pageSize"
                        layout="total, sizes, prev, pager, next, jumper"
                        :total="allDate">
                </el-pagination>
            </el-row>
        </div>

        <!--菜单资源表-->
        <div v-if="left.keyName == 'menuResources'">
            <el-row>
                <el-col :span="24">
                    <el-row style="margin-bottom: 10px">
                        <el-col :span="20">
                            <div>
                                <el-input placeholder="请输入内容" v-model="searchInput">
                                    <el-select clearable slot="prepend" placeholder="请选择" v-model="select">
                                        <el-option label="编号" value="number"></el-option>
                                        <el-option label="名称" value="name"></el-option>
                                    </el-select>
                                    <el-button slot="append" icon="search" @click="searchClick"></el-button>
                                </el-input>
                            </div>
                        </el-col>
                    </el-row>
                </el-col>
            </el-row>
            <el-row>
                <el-table ref="myData"
                          :data="tableData"
                          @row-click="firstClick" border style="width: 100%"
                          :highlight-current-row="true"
                          :height="leftHeight"
                          v-loading="loading"
                          element-loading-text="加载中">
                    <el-table-column show-overflow-tooltip sortable="custom" prop="number" label="菜单编号" width="">
                    </el-table-column>
                    <el-table-column show-overflow-tooltip sortable="custom" prop="name" label="菜单名称" width="120">
                    </el-table-column>
                    <el-table-column show-overflow-tooltip prop="remarks" label="备注" width="">
                    </el-table-column>
                    <el-table-column  label="操作" width="80">
                        <template scope="scope">
                            <el-button @click="searchDetails(scope.row)" title="查看详情" type="text" size="small" icon="search"></el-button>
                            <el-button @click="del(scope.row)" type="text" size="small" icon="delete"></el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </el-row>
            <el-row type="flex" justify="end" style="padding-top:10px" class="block">
                <el-pagination
                        @size-change="handleSizeChange"
                        @current-change="handleCurrentChange"
                        :current-page="pageNum"
                        :page-sizes="[5,10,20]"
                        :page-size="pageSize"
                        layout="total, sizes, prev, pager, next, jumper"
                        :total="allDate">
                </el-pagination>
            </el-row>
        </div>

        <!--页面按钮表-->
        <div v-if="left.keyName == 'pageButton'">
            <el-row>
                <el-col :span="24">
                    <el-row style="margin-bottom: 10px">
                        <el-col :span="20">
                            <div>
                                <el-input placeholder="请输入内容" v-model="searchInput">
                                    <el-select clearable slot="prepend" placeholder="请选择" v-model="select">
                                        <el-option label="编号" value="buttonNumber"></el-option>
                                        <el-option label="名称" value="buttonName"></el-option>
                                    </el-select>
                                    <el-button slot="append" icon="search" @click="searchClick"></el-button>
                                </el-input>
                            </div>
                        </el-col>
                    </el-row>
                </el-col>
            </el-row>
            <el-row>
                <el-table ref="myData"
                          :data="tableData"
                          @row-click="firstClick" border style="width: 100%"
                          :highlight-current-row="true"
                          :height="leftHeight"
                          v-loading="loading"
                          element-loading-text="加载中">
                    <el-table-column show-overflow-tooltip sortable="custom" prop="buttonNumber" label="按钮编号" width="">
                    </el-table-column>
                    <el-table-column show-overflow-tooltip sortable="custom" prop="buttonName" label="按钮名称" width="120">
                    </el-table-column>
                    <el-table-column show-overflow-tooltip prop="remarks" label="备注" width="">
                    </el-table-column>
                    <el-table-column  label="操作" width="80">
                        <template scope="scope">
                            <el-button @click="searchDetails(scope.row)" type="text" size="small" title="查看详情" icon="search"></el-button>
                            <el-button @click="del(scope.row)" type="text" size="small" icon="delete"></el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </el-row>
            <el-row type="flex" justify="end" style="padding-top:10px" class="block">
                <el-pagination
                        @size-change="handleSizeChange"
                        @current-change="handleCurrentChange"
                        :current-page="pageNum"
                        :page-sizes="[5,10,20]"
                        :page-size="pageSize"
                        layout="total, sizes, prev, pager, next, jumper"
                        :total="allDate">
                </el-pagination>
            </el-row>
        </div>

        <!--页面资源表-->
        <div v-if="left.keyName == 'pageResources'">
            <el-row>
                <el-col :span="24">
                    <el-row style="margin-bottom: 10px">
                        <el-col :span="20">
                            <div>
                                <el-input placeholder="请输入内容" v-model="searchInput">
                                    <el-select clearable slot="prepend" placeholder="请选择" v-model="select">
                                        <el-option label="编号" value="pageNumber"></el-option>
                                        <el-option label="名称" value="pageName"></el-option>
                                    </el-select>
                                    <el-button slot="append" icon="search" @click="searchClick"></el-button>
                                </el-input>
                            </div>
                        </el-col>
                    </el-row>
                </el-col>
            </el-row>
            <el-row>
                <el-table ref="myData"
                          :data="tableData"
                          @row-click="firstClick" border style="width: 100%"
                          :highlight-current-row="true"
                          :height="leftHeight"
                          v-loading="loading"
                          element-loading-text="加载中">
                    <el-table-column show-overflow-tooltip sortable="custom" prop="pageNumber" label="页面编号" width="">
                    </el-table-column>
                    <el-table-column show-overflow-tooltip sortable="custom" prop="pageName" label="页面名称" width="120">
                    </el-table-column>
                    <el-table-column show-overflow-tooltip prop="remarks" label="备注" width="">
                    </el-table-column>
                    <el-table-column  label="操作" width="80">
                        <template scope="scope">
                            <el-button @click="searchDetails(scope.row)" type="text" size="small" title="查看详情" icon="search"></el-button>
                            <el-button @click="del(scope.row)" type="text" size="small" icon="delete"></el-button>
                        </template>
                    </el-table-column>
                </el-table>
            </el-row>
            <el-row type="flex" justify="end" style="padding-top:10px" class="block">
                <el-pagination
                        @size-change="handleSizeChange"
                        @current-change="handleCurrentChange"
                        :current-page="pageNum"
                        :page-sizes="[5,10,20]"
                        :page-size="pageSize"
                        layout="total, sizes, prev, pager, next, jumper"
                        :total="allDate">
                </el-pagination>
            </el-row>
        </div>
    </el-col>
</div>

<script src="privilege-allocation-resources.js"></script>
</body>
</html>