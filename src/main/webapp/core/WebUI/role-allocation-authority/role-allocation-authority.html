<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>角色分配权限</title>
    <script src="../Public/publicjs.js"></script>
    <style>
        html{
            overflow: hidden;
        }
        .el-input {
            width: 300px;
        }
        #topInput .el-input__inner{
            width:200px;
            height:30px;
        }
        #topInput .el-textarea__inner{
            width:200px;
        }
        .spanPosition{
            position: absolute;
            top:-12px;
            left:20px;
            background: white;
            font-weight:bold;
            font-size: 15px;
        }
        #btnImg{
            position: absolute;
            left: 110px;
            top: -15px;
            border: none;
            background: white;
        }
        #rightBottom .el-icon-check{
            color: red;
        }
    </style>
</head>
<body>
<div id="basTop">
    <el-row type="flex" justify="end">
        <el-col :span="24">
            <el-button size="small" :disabled="disabled" icon="setting" type="success" @click="addClick">分配权限</el-button>
        </el-col>
    </el-row>
</div>
<div class="allBorder" style="float: left; padding:20px 10px 0 10px;">
    <el-col :span="2" id="left" style="margin-left:15px;">
        <div class="allBorder" id="allBorderHeight" style="height:500px; border:none;margin-left: -50px;">
            <el-row>
                <el-col>
                    <div style="padding:0 20px">
                        <el-col style="padding:10px 5px">
                            <base-tree :initial="treeData" ref="org" @click-node="getNodes"></base-tree>
                        </el-col>
                    </div>
                </el-col>
            </el-row>
        </div>
    </el-col>

    <el-col :span="21" id="right" style="margin-left:15px">
        <div class="allBorder" style="border:1px solid #bccdc5">
            <el-row>
                <el-col>
                    <div>
                        <span class="spanPosition">详细信息</span>
                    </div>
                    <el-col :span="24">
                        <div id="topInput" style="padding:20px 20px 10px 10px">
                            <el-form :label-position="labelPosition" ref="formTable" label-width="70px" :model="formTable">
                                <el-row type="flex" class="row-bg">
                                    <el-col :span="6">
                                        <el-form-item label="角色编号" prop="roleId">
                                            <el-input disabled="" placeholder="角色编号" v-model="formTable.roleId" ref="roleId"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="角色名称" prop="roleName">
                                            <el-input disabled="" placeholder="角色名称" v-model="formTable.roleName" ref="roleName"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="类别" prop="orgName">
                                            <el-input disabled="" placeholder="类别" v-model="formTable.roleType" ref="roleType"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                                <el-row type="flex" class="row-bg">
                                    <el-col :span="6">
                                        <el-form-item label="说明" prop="desc">
                                            <el-input disabled="" type="textarea" placeholder="说明" v-model="formTable.desc" ref="desc"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="备注" prop="fixedPhone">
                                            <el-input disabled="" type="textarea" placeholder="备注" v-model="formTable.fixedPhone" ref="fixedPhone"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                            </el-form>
                        </div>
                    </el-col>
                </el-col>
            </el-row>
            </el-row>
        </div>
    </el-col>

    <el-col :span="21" id="rightBottom" style="margin-left:15px;margin-top:40px;">
        <div class="allBorder" style="border:1px solid #bccdc5">
            <el-row>
                <el-col>
                    <div>
                        <span class="spanPosition">关联其他信息</span>
                        <el-button id="btnImg" size="small" icon="check" type="primary" :disabled="disabled" @click="btnRefresh"></el-button>
                    </div>
                    <div style="padding:30px 20px">
                        <template>
                                    <el-table ref="myData"
                                              :data="tableData"
                                              @row-click="firstClick" border style="width: 100%"
                                              :highlight-current-row="true"
                                              :height="leftHeight"
                                              v-loading="loading"
                                              element-loading-text="加载中">
                                        <el-table-column show-overflow-tooltip sortable="custom" prop="permissionId" label="权限编号" width="">
                                        </el-table-column>
                                        <el-table-column show-overflow-tooltip sortable="custom" prop="permissionName" label="权限名称" width="">
                                        </el-table-column>
                                        <el-table-column show-overflow-tooltip sortable="custom" prop="permissionType" label="权限类型" width="">
                                        </el-table-column>
                                        <el-table-column prop="desc" label="描述" width="250">
                                        </el-table-column>
                                        <el-table-column prop="remarks" label="备注" width="250">
                                        </el-table-column>
                                        <el-table-column  prop="" fixed="right" label="操作" width="70">
                                            <template scope="scope">
                                                <el-button @click="del(scope.row)" type="text" size="small" icon="delete"></el-button>
                                            </template>
                                        </el-table-column>
                                    </el-table>
                                </template>
                        <el-row type="flex" justify="end" style="padding-top:10px;margin-top: 10px;" class="block">
                                    <el-pagination
                                            @size-change="handleSizeChange"
                                            @current-change="handleCurrentChange"
                                            :current-page="pageNum"
                                            :page-sizes="[5,10,20]"
                                            :page-size="pageSize"
                                            layout="total, sizes, prev, pager, next, jumper"
                                            :total="allDate">
                                    </el-pagination>
                                </el-row>
                    </div>
                </el-col>
            </el-row>
        </div>
    </el-col>
</div>

<script src="role-allocation-authority.js"></script>
</body>
</html>