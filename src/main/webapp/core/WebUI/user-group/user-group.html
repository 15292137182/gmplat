<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../Public/publicjs.js"></script>
    <style>
        /*html{*/
            /*overflow: hidden;*/
        /*}*/
        /*#topInput .el-input__inner{*/
            /*width:200px;*/
            /*height:30px;*/
        /*}*/
        /*.el-input {*/
            /*width: 200px;*/
        /*}*/
        /*#right .el-input__inner{*/
            /*width:200px;*/
            /*height:30px;*/
        /*}*/
        /*#topInput .el-textarea__inner{*/
            /*width:550px;*/
        /*}*/

        /*标头*/
        .spanPosition{
            position: absolute;
            top:-12px;
            left:20px;
            background: white;
            font-weight:bold;
            font-size: 15px;
        }
        /*刷新小图标位置*/
        #rightBottom #littleButton{
            position: absolute;
            left: 170px;
            top: -15px;
            border: none;
            background: white;
        }
        /*刷新小图标背景*/
        #rightBottom .el-icon-check{
            color: red;
        }
        /*.el-textarea{*/
            /*width:400px;*/
        /*}*/
    </style>
</head>
<body>
<div id="basTop">
    <el-row type="flex" justify="end">
        <el-col :span="24">
            <el-button type="info" icon="plus" size="small" @click.native="addEvent">添加用户组</el-button>
            <el-button type="info" icon="plus" size="small" @click.native="deleteEvent">删除用户组</el-button>
            <el-button type="warning" icon="star-off" size="small" @click.native="toggleSelection(tableData)">添加组人员</el-button>
            <el-button type="warning" icon="star-off" size="small" @click.native="deleteUser">删除组人员</el-button>
            <el-button type="warning" icon="star-off" size="small" @click.native="addClick">保存</el-button>
        </el-col>
    </el-row>
</div>

<div class="allBorder" style="margin-top:10px">
    <el-col :span="4" id="left">
                <el-row>
                    <el-col>
                        <div style="padding:0 20px">
                            <el-col style="padding:10px 5px">
                                <base-tree ref="groupTree" :initial="config" ref="leftTree" @click-node="getNodes" @checked-node="getChecked"></base-tree>
                            </el-col>
                        </div>
                    </el-col>
                </el-row>
        </el-col>

    <el-col :span="19" id="right" :push="1" style="margin-top:25px">
        <div class="allBorder">
            <el-row>
                <el-col>
                    <div>
                        <span class="spanPosition">用户组信息</span>
                    </div>
                    <el-col :span="24">
                        <div style="padding:20px 20px 10px 20px" >
                            <el-form :label-position="labelPosition"  label-width="70px">
                                <el-row type="flex" class="row-bg">
                                    <el-col :span="6">
                                        <el-form-item label="编号" prop="groupNumber">
                                            <el-input placeholder="编号" v-model="groupNumber" ref="groupNumber" disabled></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="名称" prop="groupName">
                                            <el-input placeholder="名称" v-model="groupName" ref="groupName"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="所属部门" prop="belongSector">
                                            <select-tree :initial="config1" @select-node="getNodeId1" @click-node="getNodes1" @checked-node="getChecked1" @clear="clear1"></select-tree>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                                <el-row type="flex" class="row-bg">
                                    <el-col :span="6">
                                        <el-form-item label="备注" prop="remarks">
                                            <el-input placeholder="备注" v-model="remarks" ref="remarks"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="组类别" prop="groupCategory">
                                            <el-select v-model="groupCategory" placeholder="请选择组类别" clearable >
                                                <el-option value="系统" label="系统"></el-option>
                                                <el-option value="用户" label="用户"></el-option>
                                            </el-select>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="6" :offset="2">
                                        <el-form-item label="描述" prop="desc">
                                            <el-input placeholder="描述" v-model="desc" :rows="1" ref="desc" type="textarea"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                                <!--<el-row type="flex" class="row-bg">-->
                                    <!--<el-col :span="6" :push="18">-->
                                        <!--<el-button size="small" icon="check" type="primary" @click="addClick">保存</el-button>-->
                                    <!--</el-col>-->
                                <!--</el-row>-->
                            </el-form>

                        </div>
                    </el-col>
                </el-col>
            </el-row>
            </el-row>
        </div>
    </el-col>

    <el-col :span="19" :push="5" id="rightBottom" style="margin-top:40px;">
        <div class="allBorder" style="border:1px solid #bccdc5">
            <el-row>
                <el-col>
                    <div>
                        <span class="spanPosition">用户组下的用户信息</span>
                        <el-button size="small" icon="check" type="primary" id="littleButton" @click="btnRefresh"></el-button>
                    </div>
                    <div style="padding:30px 20px">
                        <el-table :data="tableData" :height="leftHeight" border  highlight-current-row
                                  v-loading="loading"
                                  element-loading-text="加载中" @sort-change="headSort"
                                  @row-click="currentChange"
                                  @select="selectRow"
                                  @select-all="selectAllRow"
                                  class="tableStyle"
                                  style="width: 100%">
                            <el-table-column
                                    type="selection"
                                    width="45">
                            </el-table-column>
                            <el-table-column type="expand">
                                <template scope="props">
                                    <el-form label-position="left" inline class="demo-table-expand">
                                        <el-row>
                                            <el-col :span="12">
                                                <el-form-item label="昵称">
                                                    <span>{{ props.row.nickname }}</span>
                                                </el-form-item>
                                            </el-col>
                                            <el-col :span="12">
                                                <el-form-item label="邮箱">
                                                    <span>{{ props.row.email }}</span>
                                                </el-form-item>
                                            </el-col>
                                        </el-row>
                                    </el-form>
                                </template>
                            </el-table-column>
                            <el-table-column prop="id" label="用户工号" sortable="custom" width=""
                                             show-overflow-tooltip></el-table-column>
                            <el-table-column prop="name" label="姓名" width=""
                                             show-overflow-tooltip></el-table-column>
                            <el-table-column prop="belongOrg" label="部门" show-overflow-tooltip></el-table-column>
                            <el-table-column prop="job" label="职务" show-overflow-tooltip></el-table-column>
                            <el-table-column prop="status" label="状态" show-overflow-tooltip></el-table-column>
                        </el-table>
                        <el-row type="flex" justify="end" style="padding-top: 10px">
                            <el-pagination
                                    @size-change="handleSizeChange"
                                    @current-change="handleCurrentChange"
                                    :current-page.sync="pageNum"
                                    :page-sizes="[5,10,20]"
                                    :page-size="pageSize"
                                    layout="total, sizes, prev, pager, next"
                                    :total="allDate">
                            </el-pagination>
                        </el-row>
                    </div>
                </el-col>
            </el-row>
            </el-row>
        </div>
    </el-col>
</div>

<script src="user-group.js"></script>
</body>
</html>